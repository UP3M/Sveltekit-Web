import{S as T,i as F,s as R,k as _,q as x,a as w,l as g,m as b,r as P,h as m,c as D,M as U,n as E,p as H,E as V,b as X,F as l,G as q,w as v}from"../chunks/index.41f8281f.js";import{b as z}from"../chunks/paths.5f82a67e.js";function B(a){let c,o,n,i,r,t,y,I,k,f,A,M,e,S,u,K,C,d;return{c(){c=_("a"),o=x("Link"),n=w(),i=_("meta"),r=w(),t=_("div"),y=_("h1"),I=x("XKCD comic"),k=w(),f=_("h2"),A=x("title"),M=w(),e=_("p"),S=w(),u=_("img"),C=w(),d=_("p"),this.h()},l(s){c=g(s,"A",{href:!0});var h=b(c);o=P(h,"Link"),h.forEach(m),n=D(s);const L=U("svelte-ls4fa7",document.head);i=g(L,"META",{name:!0,content:!0}),L.forEach(m),r=D(s),t=g(s,"DIV",{});var p=b(t);y=g(p,"H1",{});var j=b(y);I=P(j,"XKCD comic"),j.forEach(m),k=D(p),f=g(p,"H2",{style:!0});var G=b(f);A=P(G,"title"),G.forEach(m),M=D(p),e=g(p,"P",{}),b(e).forEach(m),S=D(p),u=g(p,"IMG",{src:!0,class:!0,alt:!0}),C=D(p),d=g(p,"P",{style:!0}),b(d).forEach(m),p.forEach(m),this.h()},h(){E(c,"href",z+"/comic"),document.title="XKCD comic",E(i,"name","description"),E(i,"content","XKCD comic"),H(f,"text-align","center"),V(u.src,K="https://anatomised.com/wp-content/uploads/2016/05/spinner-test4.gif")||E(u,"src",K),E(u,"class","comic svelte-1e48ylm"),E(u,"alt","XKCD comic"),H(d,"text-align","center")},m(s,h){X(s,c,h),l(c,o),X(s,n,h),l(document.head,i),X(s,r,h),X(s,t,h),l(t,y),l(y,I),l(t,k),l(t,f),l(f,A),a[4](f),l(t,M),l(t,e),a[5](e),l(t,S),l(t,u),a[6](u),l(t,C),l(t,d),a[7](d)},p:q,i:q,o:q,d(s){s&&m(c),s&&m(n),m(i),s&&m(r),s&&m(t),a[4](null),a[5](null),a[6](null),a[7](null)}}}async function J(a){const c=new URLSearchParams;a&&c.set("email",a);const n=await(await fetch("https://fwd.innopolis.app/api/hw2?email="+c.toString())).json();return console.log(n),await(await fetch("https://getxkcd.vercel.app/api/comic?num="+n)).json()}function N(a,c,o){let n=null,i=null,r=null,t=null;function y(e){const S={weekday:"long",year:"numeric",month:"long",day:"numeric"},{title:u,img:K,alt:C,year:d,month:s,day:h}=e;n&&o(0,n.textContent=u,n),i&&(o(1,i.src=K,i),i.setAttribute("alt",C)),r&&o(2,r.textContent=C,r);const L=new Date(parseInt(d),parseInt(s),parseInt(h));t&&o(3,t.textContent=L.toLocaleDateString(void 0,S),t)}async function I(){n&&o(0,n.textContent="Loading...",n);const e=await J("m.wedamerta@innopolis.university");y(e)}I();function k(e){v[e?"unshift":"push"](()=>{n=e,o(0,n)})}function f(e){v[e?"unshift":"push"](()=>{r=e,o(2,r)})}function A(e){v[e?"unshift":"push"](()=>{i=e,o(1,i)})}function M(e){v[e?"unshift":"push"](()=>{t=e,o(3,t)})}return[n,i,r,t,k,f,A,M]}class W extends T{constructor(c){super(),F(this,c,N,B,R,{})}}export{W as default};
