import{S as V,i as z,s as A,k as f,q as E,a as k,l as p,m as v,r as L,h as _,c as P,p as F,n as h,E as R,b as B,F as n,u as j,G as U,o as J}from"../chunks/index.41f8281f.js";function N(a){let e,i,o,c,m,l=a[0].title+"",w,q,d,g=a[0].alt+"",I,K,r,D,C,X,u,y=new Date(parseInt(a[0].year),parseInt(a[0].month),parseInt(a[0].day)).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"",S;return{c(){e=f("div"),i=f("h2"),o=E("XKCD comic"),c=k(),m=f("h3"),w=E(l),q=k(),d=f("p"),I=E(g),K=k(),r=f("img"),X=k(),u=f("p"),S=E(y),this.h()},l(s){e=p(s,"DIV",{});var t=v(e);i=p(t,"H2",{});var G=v(i);o=L(G,"XKCD comic"),G.forEach(_),c=P(t),m=p(t,"H3",{style:!0,class:!0});var H=v(m);w=L(H,l),H.forEach(_),q=P(t),d=p(t,"P",{class:!0});var M=v(d);I=L(M,g),M.forEach(_),K=P(t),r=p(t,"IMG",{class:!0,src:!0,alt:!0}),X=P(t),u=p(t,"P",{style:!0,class:!0});var b=v(u);S=L(b,y),b.forEach(_),t.forEach(_),this.h()},h(){F(m,"text-align","center"),h(m,"class","svelte-ar253o"),h(d,"class","svelte-ar253o"),h(r,"class","comic svelte-ar253o"),R(r.src,D=a[0].img)||h(r,"src",D),h(r,"alt",C=a[0].alt),F(u,"text-align","center"),h(u,"class","svelte-ar253o")},m(s,t){B(s,e,t),n(e,i),n(i,o),n(e,c),n(e,m),n(m,w),n(e,q),n(e,d),n(d,I),n(e,K),n(e,r),n(e,X),n(e,u),n(u,S)},p(s,[t]){t&1&&l!==(l=s[0].title+"")&&j(w,l),t&1&&g!==(g=s[0].alt+"")&&j(I,g),t&1&&!R(r.src,D=s[0].img)&&h(r,"src",D),t&1&&C!==(C=s[0].alt)&&h(r,"alt",C),t&1&&y!==(y=new Date(parseInt(s[0].year),parseInt(s[0].month),parseInt(s[0].day)).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"")&&j(S,y)},i:U,o:U,d(s){s&&_(e)}}}async function O(a){const e=new URLSearchParams;a&&e.set("email",a);const o=await(await fetch("https://fwd.innopolis.app/api/hw2?email="+e.toString())).json();return console.log(o),fetch("https://getxkcd.vercel.app/api/comic?num="+o).then(c=>c.json())}function Q(a,e,i){let{email:o="m.wedamerta@innopolis.university"}=e,{comic:c={title:"",img:"",alt:"",year:"",month:"",day:""}}=e;async function m(){i(0,c={title:"Loading...",img:"https://anatomised.com/wp-content/uploads/2016/05/spinner-test4.gif",alt:"XKCD comic",year:"",month:"",day:""});const l=await O(o);i(0,c=l)}return J(m),a.$$set=l=>{"email"in l&&i(1,o=l.email),"comic"in l&&i(0,c=l.comic)},[c,o]}class W extends V{constructor(e){super(),z(this,e,Q,N,A,{email:1,comic:0})}}export{W as default};
