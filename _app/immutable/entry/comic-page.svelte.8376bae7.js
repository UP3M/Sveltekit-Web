import{S as A,i as B,s as J,N as O,e as R,b as G,O as Q,G as h,h as d,k as p,q as w,a as S,l as _,m as g,r as b,c as L,p as U,n as m,E as V,F as c,u as j}from"../chunks/index.2fb7a766.js";function T(a){return{c:h,l:h,m:h,p:h,d:h}}function W(a){let e,s,t,n,l,v=a[2].title+"",I,P,f,y=a[2].alt+"",C,K,r,q,D,X,u,k=new Date(parseInt(a[2].year),parseInt(a[2].month),parseInt(a[2].day)).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"",E;return{c(){e=p("div"),s=p("h2"),t=w("XKCD comic"),n=S(),l=p("h3"),I=w(v),P=S(),f=p("p"),C=w(y),K=S(),r=p("img"),X=S(),u=p("p"),E=w(k),this.h()},l(o){e=_(o,"DIV",{});var i=g(e);s=_(i,"H2",{});var H=g(s);t=b(H,"XKCD comic"),H.forEach(d),n=L(i),l=_(i,"H3",{style:!0,class:!0});var N=g(l);I=b(N,v),N.forEach(d),P=L(i),f=_(i,"P",{class:!0});var F=g(f);C=b(F,y),F.forEach(d),K=L(i),r=_(i,"IMG",{class:!0,src:!0,alt:!0}),X=L(i),u=_(i,"P",{style:!0,class:!0});var M=g(u);E=b(M,k),M.forEach(d),i.forEach(d),this.h()},h(){U(l,"text-align","center"),m(l,"class","svelte-qo3dt"),m(f,"class","svelte-qo3dt"),m(r,"class","comic svelte-qo3dt"),V(r.src,q=a[2].img)||m(r,"src",q),m(r,"alt",D=a[1].alt),U(u,"text-align","center"),m(u,"class","svelte-qo3dt")},m(o,i){G(o,e,i),c(e,s),c(s,t),c(e,n),c(e,l),c(l,I),c(e,P),c(e,f),c(f,C),c(e,K),c(e,r),c(e,X),c(e,u),c(u,E)},p(o,i){i&1&&v!==(v=o[2].title+"")&&j(I,v),i&1&&y!==(y=o[2].alt+"")&&j(C,y),i&1&&!V(r.src,q=o[2].img)&&m(r,"src",q),i&2&&D!==(D=o[1].alt)&&m(r,"alt",D),i&1&&k!==(k=new Date(parseInt(o[2].year),parseInt(o[2].month),parseInt(o[2].day)).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"")&&j(E,k)},d(o){o&&d(e)}}}function Y(a){let e,s;return{c(){e=p("p"),s=w("Loading..."),this.h()},l(t){e=_(t,"P",{class:!0});var n=g(e);s=b(n,"Loading..."),n.forEach(d),this.h()},h(){m(e,"class","svelte-qo3dt")},m(t,n){G(t,e,n),c(e,s)},p:h,d(t){t&&d(e)}}}function Z(a){let e,s,t={ctx:a,current:null,token:null,hasCatch:!1,pending:Y,then:W,catch:T,value:2};return O(s=z(a[0]),t),{c(){e=R(),t.block.c()},l(n){e=R(),t.block.l(n)},m(n,l){G(n,e,l),t.block.m(n,t.anchor=l),t.mount=()=>e.parentNode,t.anchor=e},p(n,[l]){a=n,t.ctx=a,l&1&&s!==(s=z(a[0]))&&O(s,t)||Q(t,a,l)},i:h,o:h,d(n){n&&d(e),t.block.d(n),t.token=null,t=null}}}async function z(a){const e=new URLSearchParams;a&&e.set("email",a);const t=await(await fetch("https://fwd.innopolis.app/api/hw2?email="+e.toString())).json();return await(await fetch("https://getxkcd.vercel.app/api/comic?num="+t)).json()}function x(a,e,s){let{email:t="m.wedamerta@innopolis.university"}=e,{comic:n={title:"Loading...",img:"https://anatomised.com/wp-content/uploads/2016/05/spinner-test4.gif",alt:"XKCD comic",year:"",month:"",day:""}}=e;return a.$$set=l=>{"email"in l&&s(0,t=l.email),"comic"in l&&s(1,n=l.comic)},[t,n]}class ee extends A{constructor(e){super(),B(this,e,x,Z,J,{email:0,comic:1})}}export{ee as default};
