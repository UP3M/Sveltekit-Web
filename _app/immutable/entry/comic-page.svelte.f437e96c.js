import{S as V,i as z,s as A,k as d,q as S,a as E,l as f,m as v,r as k,h as _,c as L,p as F,n as h,E as R,b as B,F as n,u as j,G as U,o as J}from"../chunks/index.41f8281f.js";function N(a){let e,i,o,c,m,l=a[0].title+"",w,P,p,g=a[0].alt+"",I,K,r,D,q,X,u,y=new Date(parseInt(a[0].year),parseInt(a[0].month),parseInt(a[0].day)).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"",C;return{c(){e=d("div"),i=d("h2"),o=S("XKCD comic"),c=E(),m=d("h3"),w=S(l),P=E(),p=d("p"),I=S(g),K=E(),r=d("img"),X=E(),u=d("p"),C=S(y),this.h()},l(s){e=f(s,"DIV",{});var t=v(e);i=f(t,"H2",{});var G=v(i);o=k(G,"XKCD comic"),G.forEach(_),c=L(t),m=f(t,"H3",{style:!0,class:!0});var H=v(m);w=k(H,l),H.forEach(_),P=L(t),p=f(t,"P",{class:!0});var M=v(p);I=k(M,g),M.forEach(_),K=L(t),r=f(t,"IMG",{class:!0,src:!0,alt:!0}),X=L(t),u=f(t,"P",{style:!0,class:!0});var b=v(u);C=k(b,y),b.forEach(_),t.forEach(_),this.h()},h(){F(m,"text-align","center"),h(m,"class","svelte-iyl6qp"),h(p,"class","svelte-iyl6qp"),h(r,"class","comic svelte-iyl6qp"),R(r.src,D=a[0].img)||h(r,"src",D),h(r,"alt",q=a[0].alt),F(u,"text-align","center"),h(u,"class","svelte-iyl6qp")},m(s,t){B(s,e,t),n(e,i),n(i,o),n(e,c),n(e,m),n(m,w),n(e,P),n(e,p),n(p,I),n(e,K),n(e,r),n(e,X),n(e,u),n(u,C)},p(s,[t]){t&1&&l!==(l=s[0].title+"")&&j(w,l),t&1&&g!==(g=s[0].alt+"")&&j(I,g),t&1&&!R(r.src,D=s[0].img)&&h(r,"src",D),t&1&&q!==(q=s[0].alt)&&h(r,"alt",q),t&1&&y!==(y=new Date(parseInt(s[0].year),parseInt(s[0].month),parseInt(s[0].day)).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"")&&j(C,y)},i:U,o:U,d(s){s&&_(e)}}}async function O(a){const e=new URLSearchParams;a&&e.set("email",a);const o=await(await fetch("https://fwd.innopolis.app/api/hw2?email="+e.toString())).json();return console.log(o),fetch("https://getxkcd.vercel.app/api/comic?num="+o).then(c=>c.json())}function Q(a,e,i){let{email:o="m.wedamerta@innopolis.university"}=e,{comic:c={title:"",img:"",alt:"",year:"",month:"",day:""}}=e;async function m(){i(0,c={title:"Loading...",img:"https://anatomised.com/wp-content/uploads/2016/05/spinner-test4.gif",alt:"XKCD comic",year:"",month:"",day:""});const l=await O(o);i(0,c=l)}return J(m),a.$$set=l=>{"email"in l&&i(1,o=l.email),"comic"in l&&i(0,c=l.comic)},[c,o]}class W extends V{constructor(e){super(),z(this,e,Q,N,A,{email:1,comic:0})}}export{W as default};
