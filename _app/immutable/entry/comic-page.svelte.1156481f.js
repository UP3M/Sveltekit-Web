import{S as R,i as V,s as z,k as f,q as S,a as E,l as p,m as v,r as k,h as _,c as L,p as U,n as d,E as F,b as A,F as n,u as b,G as N,o as B,N as J}from"../chunks/index.52a84cb1.js";function O(a){let e,i,o,c,r,l=a[0].title+"",w,P,u,g=a[0].alt+"",I,K,m,D,q,X,h,y=new Date(parseInt(a[0].year),parseInt(a[0].month),parseInt(a[0].day)).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"",C;return{c(){e=f("div"),i=f("h2"),o=S("XKCD comic"),c=E(),r=f("h3"),w=S(l),P=E(),u=f("p"),I=S(g),K=E(),m=f("img"),X=E(),h=f("p"),C=S(y),this.h()},l(s){e=p(s,"DIV",{});var t=v(e);i=p(t,"H2",{});var j=v(i);o=k(j,"XKCD comic"),j.forEach(_),c=L(t),r=p(t,"H3",{style:!0,class:!0});var G=v(r);w=k(G,l),G.forEach(_),P=L(t),u=p(t,"P",{class:!0});var H=v(u);I=k(H,g),H.forEach(_),K=L(t),m=p(t,"IMG",{class:!0,src:!0,alt:!0}),X=L(t),h=p(t,"P",{style:!0,class:!0});var M=v(h);C=k(M,y),M.forEach(_),t.forEach(_),this.h()},h(){U(r,"text-align","center"),d(r,"class","svelte-qo3dt"),d(u,"class","svelte-qo3dt"),d(m,"class","comic svelte-qo3dt"),F(m.src,D=a[0].img)||d(m,"src",D),d(m,"alt",q=a[0].alt),U(h,"text-align","center"),d(h,"class","svelte-qo3dt")},m(s,t){A(s,e,t),n(e,i),n(i,o),n(e,c),n(e,r),n(r,w),n(e,P),n(e,u),n(u,I),n(e,K),n(e,m),n(e,X),n(e,h),n(h,C)},p(s,[t]){t&1&&l!==(l=s[0].title+"")&&b(w,l),t&1&&g!==(g=s[0].alt+"")&&b(I,g),t&1&&!F(m.src,D=s[0].img)&&d(m,"src",D),t&1&&q!==(q=s[0].alt)&&d(m,"alt",q),t&1&&y!==(y=new Date(parseInt(s[0].year),parseInt(s[0].month),parseInt(s[0].day)).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"")&&b(C,y)},i:N,o:N,d(s){s&&_(e)}}}async function Q(a){const e=new URLSearchParams;a&&e.set("email",a);const o=await(await fetch("https://fwd.innopolis.app/api/hw2?email="+e.toString())).json();return console.log(o),fetch("https://getxkcd.vercel.app/api/comic?num="+o).then(c=>c.json())}function T(a,e,i){let{email:o="m.wedamerta@innopolis.university"}=e,{comic:c={title:"",img:"",alt:"",year:"",month:"",day:""}}=e;async function r(){i(0,c={title:"Loading...",img:"https://anatomised.com/wp-content/uploads/2016/05/spinner-test4.gif",alt:"XKCD comic",year:"",month:"",day:""});const l=await Q(o);i(0,c=l)}return B(r),J(()=>{r()}),a.$$set=l=>{"email"in l&&i(1,o=l.email),"comic"in l&&i(0,c=l.comic)},[c,o]}class Y extends R{constructor(e){super(),V(this,e,T,O,z,{email:1,comic:0})}}export{Y as default};
