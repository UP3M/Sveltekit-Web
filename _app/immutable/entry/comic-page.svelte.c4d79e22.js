import{S as V,i as z,s as A,N as B,e as M,b as U,O as J,G as r,h as _,k as f,q,a as S,l as g,m as k,r as E,c as L,p as O,n as h,E as R,F as o,u as j}from"../chunks/index.ec9303bd.js";function Q(a){return{c:r,l:r,m:r,p:r,d:r}}function T(a){return{c:r,l:r,m:r,p:r,d:r}}function W(a){let e,t,n,s,u,i=a[0].title+"",w,P,p,y=a[0].alt+"",b,K,m,I,C,X,d,v=new Date(parseInt(a[0].year),parseInt(a[0].month),parseInt(a[0].day)).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"",D;return{c(){e=f("div"),t=f("h2"),n=q("XKCD comic"),s=S(),u=f("h3"),w=q(i),P=S(),p=f("p"),b=q(y),K=S(),m=f("img"),X=S(),d=f("p"),D=q(v),this.h()},l(c){e=g(c,"DIV",{});var l=k(e);t=g(l,"H2",{});var G=k(t);n=E(G,"XKCD comic"),G.forEach(_),s=L(l),u=g(l,"H3",{style:!0,class:!0});var H=k(u);w=E(H,i),H.forEach(_),P=L(l),p=g(l,"P",{class:!0});var N=k(p);b=E(N,y),N.forEach(_),K=L(l),m=g(l,"IMG",{class:!0,src:!0,alt:!0}),X=L(l),d=g(l,"P",{style:!0,class:!0});var F=k(d);D=E(F,v),F.forEach(_),l.forEach(_),this.h()},h(){O(u,"text-align","center"),h(u,"class","svelte-qo3dt"),h(p,"class","svelte-qo3dt"),h(m,"class","comic svelte-qo3dt"),R(m.src,I=a[0].img)||h(m,"src",I),h(m,"alt",C=a[0].alt),O(d,"text-align","center"),h(d,"class","svelte-qo3dt")},m(c,l){U(c,e,l),o(e,t),o(t,n),o(e,s),o(e,u),o(u,w),o(e,P),o(e,p),o(p,b),o(e,K),o(e,m),o(e,X),o(e,d),o(d,D)},p(c,l){l&1&&i!==(i=c[0].title+"")&&j(w,i),l&1&&y!==(y=c[0].alt+"")&&j(b,y),l&1&&!R(m.src,I=c[0].img)&&h(m,"src",I),l&1&&C!==(C=c[0].alt)&&h(m,"alt",C),l&1&&v!==(v=new Date(parseInt(c[0].year),parseInt(c[0].month),parseInt(c[0].day)).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"")&&j(D,v)},d(c){c&&_(e)}}}function Y(a){let e,t={ctx:a,current:null,token:null,hasCatch:!1,pending:W,then:T,catch:Q};return B(a[1],t),{c(){e=M(),t.block.c()},l(n){e=M(),t.block.l(n)},m(n,s){U(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e},p(n,[s]){a=n,J(t,a,s)},i:r,o:r,d(n){n&&_(e),t.block.d(n),t.token=null,t=null}}}async function Z(a){const e=new URLSearchParams;a&&e.set("email",a);const n=await(await fetch("https://fwd.innopolis.app/api/hw2?email="+e.toString())).json();return console.log(n),fetch("https://getxkcd.vercel.app/api/comic?num="+n).then(s=>s.json())}function x(a,e,t){let{email:n="m.wedamerta@innopolis.university"}=e,{comic:s={title:"",img:"",alt:"",year:"",month:"",day:""}}=e;async function u(){t(0,s={title:"Loading...",img:"https://anatomised.com/wp-content/uploads/2016/05/spinner-test4.gif",alt:"XKCD comic",year:"",month:"",day:""});const i=await Z(n);t(0,s=i)}return a.$$set=i=>{"email"in i&&t(2,n=i.email),"comic"in i&&t(0,s=i.comic)},[s,u,n]}class ee extends V{constructor(e){super(),z(this,e,x,Y,A,{email:2,comic:0})}}export{ee as default};
